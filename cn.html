<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C·∫£m Nh·∫≠n - M√πa Xu√¢n Khai Tr∆∞·ªùng</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Patrick+Hand&display=swap" rel="stylesheet">
    <style>
        /* Animation th·∫ª b√†i xu·∫•t hi·ªán nh·∫π nh√†ng */
        .card { animation: floatUp 0.6s ease-out; }
        @keyframes floatUp { from { opacity: 0; transform: translateY(20px) scale(0.9); } to { opacity: 1; transform: translateY(0) scale(1); } }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">üå∏ XU√ÇN H·ªåC ƒê∆Ø·ªúNG</div>
            <ul>
                <li><a href="index.html">Trang ch·ªß</a></li>
                <li><a href="kk.html">Kho·∫£nh kh·∫Øc</a></li>
                <li><a href="cn.html" class="active">C·∫£m nh·∫≠n</a></li>
                <li><a href="lh.html">Li√™n h·ªá</a></li>
            </ul>
        </nav>
    </header>

    <main class="testimonial-page">
        <section class="intro">
            <h1>üå∏ B·ª©c T∆∞·ªùng L∆∞u B√∫t üå∏</h1>
            <p>Vi·∫øt nh·ªØng ƒëi·ªÅu ∆∞·ªõc nh·ªè, g·ª≠i v√†o gi√≥ xu√¢n bay cao...</p>
        </section>

        <div class="testimonial-grid" id="danhSachLoiChuc">
            <div class="card bg-pink">
                <span class="pin">üìç</span>
                <p class="content">"M·ªói m√πa xu√¢n v·ªÅ, nh√¨n nh·ªØng g∆∞∆°ng m·∫∑t r·∫°ng r·ª° c·ªßa h·ªçc tr√≤, t√¥i l·∫°i th·∫•y t√¢m h·ªìn m√¨nh tr·∫ª l·∫°i."</p>
                <div class="card-footer">
                    <h4>- C√¥ Minh Thu -</h4>
                    <span class="date">24/01/2026</span>
                </div>
            </div>
            <div class="card bg-yellow">
                <span class="pin">üìå</span>
                <p class="content">"Em ∆∞·ªõc mong nƒÉm m·ªõi c·∫£ l·ªõp m√¨nh s·∫Ω c√πng nhau ƒë·ªó ƒë·∫°t nguy·ªán v·ªçng 1! C·ªë l√™n nh√© 12A1 ∆°i!"</p>
                <div class="card-footer">
                    <h4>- Nam Anh (12A1) -</h4>
                    <span class="date">24/01/2026</span>
                </div>
            </div>
            <div class="card bg-green">
                <span class="pin">üìç</span>
                <p class="content">"Ti·∫øng tr·ªëng tr∆∞·ªùng khai xu√¢n lu√¥n l√† √¢m thanh r·ªôn r√£ nh·∫•t trong l√≤ng em."</p>
                <div class="card-footer">
                    <h4>- Linh Chi -</h4>
                    <span class="date">24/01/2026</span>
                </div>
            </div>
        </div>

        <section class="add-comment">
            <h3>‚úçÔ∏è G·ª≠i g·∫Øm t√¢m t∆∞</h3>
            <form id="formLoiChuc">
                <input type="text" id="tenNguoiDung" placeholder="T√™n c·ªßa b·∫°n l√†..." required>
                <textarea id="noiDungLoiChuc" placeholder="B·∫°n ƒëang nghƒ© g√¨ th·∫ø?..." rows="4" required></textarea>
                
                <button type="button" onclick="guiLoiChuc()">D√°n l√™n t∆∞·ªùng</button>
            </form>
        </section>
    </main>

    <script>
        // 1. Khi trang web v·ª´a t·∫£i xong, h√£y l·∫•y d·ªØ li·ªáu c≈© ra v√† d√°n l√™n t∆∞·ªùng
        document.addEventListener('DOMContentLoaded', function() {
            loadLoiChucTuKho();
        });

        function guiLoiChuc() {
            var ten = document.getElementById("tenNguoiDung").value;
            var loiChuc = document.getElementById("noiDungLoiChuc").value;

            if (ten === "" || loiChuc === "") {
                alert("B·∫°n ∆°i, ƒë·ª´ng ƒë·ªÉ gi·∫•y tr·∫Øng nh√©!");
                return;
            }

            // T·∫°o d·ªØ li·ªáu cho l·ªùi ch√∫c m·ªõi
            var today = new Date();
            var dateStr = today.getDate() + '/' + (today.getMonth() + 1) + '/' + today.getFullYear();
            
            // Random m√†u s·∫Øc v√† ghim
            var colors = ['bg-pink', 'bg-yellow', 'bg-green', 'bg-blue'];
            var randomColor = colors[Math.floor(Math.random() * colors.length)];
            
            var pins = ['üìç', 'üìå', 'üìé'];
            var randomPin = pins[Math.floor(Math.random() * pins.length)];

            // ƒê√≥ng g√≥i th√¥ng tin th√†nh m·ªôt ƒê·ªëi t∆∞·ª£ng (Object)
            var duLieuLoiChuc = {
                id: Date.now(), // T·∫°o ID ri√™ng ƒë·ªÉ kh√¥ng b·ªã tr√πng
                ten: ten,
                noiDung: loiChuc,
                ngay: dateStr,
                mauSac: randomColor,
                ghim: randomPin
            };

            // A. Hi·ªÉn th·ªã l√™n giao di·ªán ngay l·∫≠p t·ª©c
            hienThiMotLoiChuc(duLieuLoiChuc);

            // B. L∆∞u v√†o b·ªô nh·ªõ tr√¨nh duy·ªát (localStorage)
            luuVaoKho(duLieuLoiChuc);

            // Reset √¥ nh·∫≠p
            document.getElementById("tenNguoiDung").value = "";
            document.getElementById("noiDungLoiChuc").value = "";
        }

        // H√†m ph·ª•: Ch·ªâ d√πng ƒë·ªÉ hi·ªÉn th·ªã 1 l·ªùi ch√∫c ra m√†n h√¨nh
        function hienThiMotLoiChuc(data) {
            var theMoi = document.createElement("div");
            theMoi.className = "card " + data.mauSac;
            theMoi.innerHTML = `
                <span class="pin">${data.ghim}</span>
                <p class="content">"${data.noiDung}"</p>
                <div class="card-footer">
                    <h4>- ${data.ten} -</h4>
                    <span class="date">${data.ngay}</span>
                </div>
            `;
            
            var danhSach = document.getElementById("danhSachLoiChuc");
            // prepend ƒë·ªÉ th√™m v√†o ƒë·∫ßu danh s√°ch
            danhSach.prepend(theMoi); 
        }

        // H√†m ph·ª•: L∆∞u d·ªØ li·ªáu v√†o localStorage
        function luuVaoKho(loiChucMoi) {
            // 1. L·∫•y danh s√°ch c≈© ra (n·∫øu ch∆∞a c√≥ th√¨ t·∫°o m·∫£ng r·ªóng)
            var danhSachCu = localStorage.getItem('LoiChucXuan_Data');
            var mangLoiChuc = danhSachCu ? JSON.parse(danhSachCu) : [];

            // 2. Th√™m l·ªùi ch√∫c m·ªõi v√†o danh s√°ch
            mangLoiChuc.push(loiChucMoi);

            // 3. L∆∞u ng∆∞·ª£c l·∫°i v√†o kho (ph·∫£i chuy·ªÉn th√†nh chu·ªói JSON)
            localStorage.setItem('LoiChucXuan_Data', JSON.stringify(mangLoiChuc));
        }

        // H√†m ph·ª•: T·∫£i d·ªØ li·ªáu t·ª´ kho khi m·ªõi v√†o trang
        function loadLoiChucTuKho() {
            var danhSachCu = localStorage.getItem('LoiChucXuan_Data');
            if (danhSachCu) {
                var mangLoiChuc = JSON.parse(danhSachCu);
                
                // Duy·ªát qua t·ª´ng l·ªùi ch√∫c ƒë√£ l∆∞u v√† hi·ªÉn th·ªã l·∫°i
                // D√πng forEach ƒë·ªÉ hi·ªÉn th·ªã t·ª´ng c√°i
                mangLoiChuc.forEach(function(item) {
                    hienThiMotLoiChuc(item);
                });
            }
        }
    </script>
</body>
</html>